# ‚úÖ –ß–ï–ö–õ–ò–°–¢ –§–ò–ù–ê–õ–¨–ù–û–ô –ù–ê–°–¢–†–û–ô–ö–ò EMAIL

## üéØ –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ SMTP Brevo
- ‚úÖ –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ SMTP Brevo
- ‚úÖ –î–∏–∑–∞–π–Ω –ø–∏—Å–µ–º - —á–µ—Ä–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è URL —Ö–æ—Å—Ç–∞
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ email –ø—Ä–∏ –≤—Ö–æ–¥–µ

## üìã –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å –≤ Supabase:

### 1. –û–±–Ω–æ–≤–∏—Ç—å Email Template –¥–ª—è —Å–º–µ–Ω—ã email

**–ó–∞–π–¥–∏ –≤ Supabase:**
1. https://supabase.com/dashboard ‚Üí —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç
2. **Authentication ‚Üí Email Templates**
3. –í—ã–±–µ—Ä–∏ **"Change Email Address"**

**–°–∫–æ–ø–∏—Ä—É–π –∏–∑ `SETUP_EMAIL_HOST.md` (–®–∞–≥ 2):**
- Subject: `–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–º–µ–Ω—É email –¥–ª—è THQ Label`
- Message Body: –≤–µ—Å—å HTML –∫–æ–¥ —Å —á–µ—Ä–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–æ–π

**–°–æ—Ö—Ä–∞–Ω–∏** (–∫–Ω–æ–ø–∫–∞ Save –≤–Ω–∏–∑—É)

---

## üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Ö–æ–¥–∞ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ:**

```typescript
// –í app/auth/page.tsx –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
const isEmailConfirmed = !!(
  data.user?.email_confirmed_at || 
  data.user?.confirmed_at ||
  data.user?.user_metadata?.email_verified
);

if (!isEmailConfirmed) {
  // –ë–õ–û–ö–ò–†–£–ï–ú –≤—Ö–æ–¥!
  await supabase.auth.signOut();
  showNotification('‚ö†Ô∏è Email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω!', 'error');
  return;
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç:**
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–æ–π—Ç–∏ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email
- ‚ùå –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–∞–∫-—Ç–æ –æ–±–æ—à–µ–ª –∑–∞—â–∏—Ç—É - –µ–≥–æ –≤—ã–∫–∏–Ω–µ—Ç
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –û–ë–Ø–ó–ê–ù–´ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å email
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
1. –û—Ç–∫—Ä–æ–π https://thq-git-main-nazarbekansar2108-svgs-projects.vercel.app/auth
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
3. **–ü—Ä–æ–≤–µ—Ä—å:**
   - ‚úâÔ∏è –ü–∏—Å—å–º–æ –ø—Ä–∏—à–ª–æ
   - üé® –î–∏–∑–∞–π–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (—á–µ—Ä–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)
   - üîó –°—Å—ã–ª–∫–∞ –≤–µ–¥–µ—Ç –Ω–∞ —Ç–≤–æ–π —Ö–æ—Å—Ç (–Ω–µ localhost)
   - ‚úÖ –ü–æ—Å–ª–µ –∫–ª–∏–∫–∞ –º–æ–∂–µ—à—å –≤–æ–π—Ç–∏

### –¢–µ—Å—Ç 2: –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ –ë–ï–ó –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –∞–∫–∫–∞—É–Ω—Ç
2. **–ù–ï** –ø–µ—Ä–µ—Ö–æ–¥–∏ –ø–æ —Å—Å—ã–ª–∫–µ –≤ –ø–∏—Å—å–º–µ
3. –ü–æ–ø—Ä–æ–±—É–π –≤–æ–π—Ç–∏
4. **–î–æ–ª–∂–Ω–æ:**
   - ‚ùå –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É "Email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω"
   - üö´ –ù–ï –ø—É—Å—Ç–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É

### –¢–µ—Å—Ç 3: –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
1. –ù–∞–∂–º–∏ "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?"
2. –í–≤–µ–¥–∏ email
3. **–ü—Ä–æ–≤–µ—Ä—å:**
   - ‚úâÔ∏è –ü–∏—Å—å–º–æ –ø—Ä–∏—à–ª–æ
   - üé® –î–∏–∑–∞–π–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
   - üîó –°—Å—ã–ª–∫–∞ –≤–µ–¥–µ—Ç –Ω–∞ —Ç–≤–æ–π —Ö–æ—Å—Ç
   - ‚úÖ –ú–æ–∂–µ—à—å —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å

### –¢–µ—Å—Ç 4: –°–º–µ–Ω–∞ email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. –í–æ–π–¥–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç
2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ `/change-email`
3. –°–º–µ–Ω–∏ email
4. **–ü—Ä–æ–≤–µ—Ä—å:**
   - ‚úâÔ∏è –ü–∏—Å—å–º–∞ –ø—Ä–∏—à–ª–∏ –Ω–∞ –æ–±–∞ email
   - üé® –î–∏–∑–∞–π–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
   - ‚úÖ –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email –∏–∑–º–µ–Ω–∏–ª—Å—è

---

## üìå –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

### –ì–æ—Ç–æ–≤–æ ‚úÖ
- [x] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ SMTP
- [x] –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ SMTP
- [x] –î–∏–∑–∞–π–Ω –ø–∏—Å–µ–º –µ–¥–∏–Ω—ã–π (—á–µ—Ä–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)
- [x] –°—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ —Ö–æ—Å—Ç
- [x] –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Ö–æ–¥–∞ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

### –ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é ‚ö†Ô∏è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Email Template "Change Email" –≤ Supabase
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü–∏—Å—å–º–∞ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—å SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Vercel (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Vercel Dashboard
3. –ü—Ä–æ–≤–µ—Ä—å —Å–ø–∞–º –≤ –ø–æ—á—Ç–µ

**–ú–æ–∂–Ω–æ –≤–æ–π—Ç–∏ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:**
1. –£–±–µ–¥–∏—Å—å —á—Ç–æ –∫–æ–¥ –æ–±–Ω–æ–≤–ª—ë–Ω (–µ—Å—Ç—å —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. –ü–æ–ø—Ä–æ–±—É–π –æ—á–∏—Å—Ç–∏—Ç—å cookies –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞

**–°—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ localhost:**
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∫–æ–¥ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Vercel
2. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ü–æ–ø—Ä–æ–±—É–π –æ—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Vercel (Redeploy)

---

**–í—Å—ë –≥–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ email –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω–∞! üîí‚ú®**
