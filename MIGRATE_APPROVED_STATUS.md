# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ 'approved' –Ω–∞ 'distributed'

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–°—Ç–∞—Ç—É—Å 'approved' (–û–¥–æ–±—Ä–µ–Ω) –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç—É—Å 'distributed' (–ù–∞ –¥–∏—Å—Ç—Ä–∏–±—å—é—Ü–∏–∏).

## –®–∞–≥–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

### 1. –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ SQL Editor
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `sql/migrate_approved_to_distributed.sql`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
6. –ù–∞–∂–º–∏—Ç–µ "Run"

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
- –£–¥–∞–ª–∏—Ç —Å—Ç–∞—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –ø–æ–ª–µ status
- –î–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- –û–±–Ω–æ–≤–∏—Ç –≤—Å–µ —Ä–µ–ª–∏–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'approved' –Ω–∞ 'distributed'
- –ü–æ–∫–∞–∂–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏:

```
table_name            | distributed_count | approved_count
----------------------|-------------------|---------------
releases_basic        | X                 | 0
releases_exclusive    | Y                 | 0
```

–ö–æ–ª–æ–Ω–∫–∞ `approved_count` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞–≤–Ω–∞ 0 –¥–ª—è –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü.

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –∫–æ–¥–µ (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

–°–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –±—ã–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã:
- ‚úÖ `app/admin/components/ReleasesModeration.tsx` - –æ—Å–Ω–æ–≤–Ω–∞—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- ‚úÖ `app/cabinet/components/releases/types.ts` - —Ç–∏–ø—ã —Ä–µ–ª–∏–∑–æ–≤
- ‚úÖ `app/cabinet/components/releases/constants.ts` - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ `app/admin/components/releases/types.ts` - —Ç–∏–ø—ã –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- ‚úÖ `app/admin/components/tickets/ReleaseInfoModal.tsx` - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–ª–∏–∑–∞
- ‚úÖ `app/admin/components/tickets/TicketDetailHeader.tsx` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∏–∫–µ—Ç–∞
- ‚úÖ `app/admin/components/AdminTicketsPanel.tsx` - –ø–∞–Ω–µ–ª—å —Ç–∏–∫–µ—Ç–æ–≤
- ‚úÖ `app/cabinet/components/releases/ReleaseDetailView.tsx` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–ª–∏–∑–∞

### 4. –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –æ–∑–Ω–∞—á–∞—é—Ç —Å—Ç–∞—Ç—É—Å—ã

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –¶–≤–µ—Ç |
|--------|----------|------|
| `draft` | –ß–µ—Ä–Ω–æ–≤–∏–∫ | –°–µ—Ä—ã–π |
| `pending` | –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ | –ñ—ë–ª—Ç—ã–π |
| `distributed` | –ù–∞ –¥–∏—Å—Ç—Ä–∏–±—å—é—Ü–∏–∏ | –°–∏–Ω–∏–π üöÄ |
| `published` | –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω | –ó–µ–ª—ë–Ω—ã–π ‚úÖ |
| `rejected` | –û—Ç–∫–ª–æ–Ω—ë–Ω | –ö—Ä–∞—Å–Ω—ã–π ‚ùå |

### 5. –í–∞–∂–Ω–æ

‚ö†Ô∏è –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –º–∏–≥—Ä–∞—Ü–∏–∏ **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

```bash
npm run dev
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∞—Ä—Ö–∏–≤ —Ä–µ–ª–∏–∑–æ–≤
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä "–ù–∞ –¥–∏—Å—Ç—Ä–∏–±—å—é—Ü–∏–∏"
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ —Ä–µ–ª–∏–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω—å—à–µ –±—ã–ª–∏ "–û–¥–æ–±—Ä–µ–Ω—ã"
5. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Ä–µ–ª–∏–∑ - —Å—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ "–ù–ê –î–ò–°–¢–†–ò–ë–¨–Æ–¶–ò–ò" —Å —Å–∏–Ω–∏–º —Ü–≤–µ—Ç–æ–º –∏ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∑–Ω–∞—á–∫–æ–º –∑–∞–≥—Ä—É–∑–∫–∏

## –û—Ç–∫–∞—Ç (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –í–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ç—É—Å—ã –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ 'approved'
UPDATE releases_basic
SET status = 'approved'
WHERE status = 'distributed';

UPDATE releases_exclusive
SET status = 'approved'
WHERE status = 'distributed';
```

–ù–æ –∫–æ–¥ –ø—Ä–∏–¥–µ—Ç—Å—è –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ Git.
