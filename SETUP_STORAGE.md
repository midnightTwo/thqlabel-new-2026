# üóÇÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase Storage –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –ï—Å–ª–∏ bucket 'avatars' —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –ø—Ä–æ–ø—É—Å—Ç–∏ —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## –°–æ–∑–¥–∞–Ω–∏–µ Storage Bucket

### –®–ê–ì 1: –û—Ç–∫—Ä–æ–π Supabase Dashboard
1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://supabase.com/dashboard
2. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
3. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏ **Storage**

### –®–ê–ì 2: –°–æ–∑–¥–∞–π bucket 'avatars' (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
1. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **"New bucket"**
2. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É:
   - **Name:** `avatars`
   - **Public bucket:** ‚úÖ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É!)
3. –ù–∞–∂–º–∏ **"Create bucket"**

### –®–ê–ì 3: –ù–∞—Å—Ç—Ä–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞
–ü–µ—Ä–µ–π–¥–∏ –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã–π bucket `avatars` ‚Üí **Policies** –∏ –¥–æ–±–∞–≤—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏:

#### –ü–æ–ª–∏—Ç–∏–∫–∞ 1: –ü—É–±–ª–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ
```sql
CREATE POLICY "Public Access"
ON storage.objects FOR SELECT
USING ( bucket_id = 'avatars' );
```

#### –ü–æ–ª–∏—Ç–∏–∫–∞ 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å
```sql
CREATE POLICY "Authenticated users can upload"
ON storage.objects FOR INSERT
TO authenticated
WITH CHECK ( bucket_id = 'avatars' );
```

#### –ü–æ–ª–∏—Ç–∏–∫–∞ 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã
```sql
CREATE POLICY "Users can update own files"
ON storage.objects FOR UPDATE
TO authenticated
USING ( bucket_id = 'avatars' )
WITH CHECK ( bucket_id = 'avatars' );
```

#### –ü–æ–ª–∏—Ç–∏–∫–∞ 4: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã
```sql
CREATE POLICY "Users can delete own files"
ON storage.objects FOR DELETE
TO authenticated
USING ( bucket_id = 'avatars' );
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û!

–ë–µ–∑ bucket `avatars` –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π **–ù–ï –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨**!

–£–±–µ–¥–∏—Å—å —á—Ç–æ:
1. ‚úÖ Bucket —Å–æ–∑–¥–∞–Ω
2. ‚úÖ Bucket –ø—É–±–ª–∏—á–Ω—ã–π (Public bucket: ON)
3. ‚úÖ –ü–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

---

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –Ω–æ–≤–æ—Å—Ç—è—Ö
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –∞–≤–∞—Ç–∞—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Å–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ Supabase Storage

–í–µ—Ä–Ω–∏—Å—å –∫ —Ñ–∞–π–ª—É **SETUP_NEWS_DRAFTS.md** –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
