# ‚ö° –ó–ê–ü–£–°–ö DRAG & DROP - –ü–û–®–ê–ì–û–í–û

## üéØ –°–î–ï–õ–ê–ô –†–û–í–ù–û –≠–¢–û:

### 1Ô∏è‚É£ –û—Ç–∫—Ä–æ–π Supabase

1. –ó–∞–π–¥–∏ –Ω–∞ **supabase.com**
2. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
3. –°–ª–µ–≤–∞ –Ω–∞–π–¥–∏ **SQL Editor**
4. –ù–∞–∂–º–∏ **"New Query"**

### 2Ô∏è‚É£ –°–∫–æ–ø–∏—Ä—É–π –∏ –≤—ã–ø–æ–ª–Ω–∏ SQL

1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª: **`sql/SIMPLE_DRAFT_ORDERING.sql`**
2. –°–∫–æ–ø–∏—Ä—É–π **–í–ï–°–¨** –∫–æ–¥ (Ctrl+A ‚Üí Ctrl+C)
3. –í—Å—Ç–∞–≤—å –≤ Supabase SQL Editor (Ctrl+V)
4. –ù–∞–∂–º–∏ **"RUN"** (–∏–ª–∏ Ctrl+Enter)

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–í –∫–æ–Ω—Å–æ–ª–∏ Supabase –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
‚úÖ Success. No rows returned
```

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ - –Ω–∞–ø–∏—à–∏ –º–Ω–µ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏!

### 4Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run dev
```

### 5Ô∏è‚É£ –¢–ï–°–¢

1. –û—Ç–∫—Ä–æ–π –∫–∞–±–∏–Ω–µ—Ç
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **"–ê—Ä—Ö–∏–≤ (–ß–µ—Ä–Ω–æ–≤–∏–∫–∏)"**
3. –ï—Å–ª–∏ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ –Ω–µ—Ç - —Å–æ–∑–¥–∞–π 2-3 —à—Ç—É–∫–∏
4. **–ü–µ—Ä–µ—Ç–∞—â–∏ —á–µ—Ä–Ω–æ–≤–∏–∫** –º—ã—à—å—é –Ω–∞ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ
5. **–û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É** (F5)
6. ‚úÖ –ü–æ—Ä—è–¥–æ–∫ –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è!

---

## ‚ùó –ï–°–õ–ò –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–æ–±–ª–µ–º–∞: SQL –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

**–£–¥–∞–ª–∏ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```sql
-- –í—ã–ø–æ–ª–Ω–∏ —ç—Ç–æ –≤ Supabase SQL Editor:
DROP FUNCTION IF EXISTS reorder_draft_release CASCADE;
ALTER TABLE releases_basic DROP COLUMN IF EXISTS draft_order;
ALTER TABLE releases_exclusive DROP COLUMN IF EXISTS draft_order;
```

–ü–æ—Ç–æ–º —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω–∏ `SIMPLE_DRAFT_ORDERING.sql`

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12):**
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ `function reorder_draft_release does not exist` ‚Üí SQL –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ `permission denied` ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ —Å RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏

**–ü—Ä–æ–≤–µ—Ä—å –≤ SQL:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª—è:
SELECT column_name FROM information_schema.columns 
WHERE table_name = 'releases_basic' AND column_name = 'draft_order';

-- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: draft_order
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç–æ—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏

–≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏ —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
npm run dev
```

---

## üéâ –î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL —Å–∫—Ä–∏–ø—Ç–∞:
- ‚úÖ –ü–æ–ª–µ `draft_order` –¥–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `reorder_draft_release()` —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã

**–§—Ä–æ–Ω—Ç–µ–Ω–¥ —É–∂–µ –≥–æ—Ç–æ–≤** - –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏ SQL!

---

## üìû –ù–£–ñ–ù–ê –ü–û–ú–û–©–¨?

–ù–∞–ø–∏—à–∏ –º–Ω–µ:
- –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?
- –¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –°–∫—Ä–∏–Ω—à–æ—Ç –µ—Å–ª–∏ –µ—Å—Ç—å

–Ø –ø–æ–º–æ–≥—É!
