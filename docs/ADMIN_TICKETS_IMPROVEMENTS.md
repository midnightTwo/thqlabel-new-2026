# –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–∏–∫–µ—Ç–æ–≤ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–∏—Å—Ç–µ–º–∞ –ª–∞–π–∫–æ–≤ (—Ä–µ–∞–∫—Ü–∏–π) ‚ù§Ô∏è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ª–∞–π–∫–æ–≤ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏, –∫–∞–∫ –≤ –≤–∏–¥–∂–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–µ—Ä—ã–µ –ª–∞–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ä–æ–∑–æ–≤—ã–º–∏ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- ‚úÖ –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ª–∞–π–∫–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –ª–∞–π–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
- ‚úÖ –°—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤ —Å —Ç—É–ª—Ç–∏–ø–æ–º, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–º –∫—Ç–æ –ø–æ—Å—Ç–∞–≤–∏–ª –ª–∞–π–∫
- ‚úÖ API endpoint –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Ä–µ–∞–∫—Ü–∏–π: `/api/admin/tickets/[id]/messages/[messageId]/reactions`

### 2. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–≤–µ—Ç–æ–≤ (Reply) üí¨
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–û—Ç–≤–µ—Ç–∏—Ç—å" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
- ‚úÖ –ü—Ä–µ–≤—å—é —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–≤–µ—á–∞–µ–º
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI —Å –∏–∫–æ–Ω–∫–æ–π reply –∏ —É—Å–µ—á–µ–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º

### 3. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–æ—Ç–≤–µ—Ç–∏—Ç—å, –ª–∞–π–∫) –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏

## –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã

### API
- `app/api/admin/tickets/[id]/messages/[messageId]/reactions/route.ts` - **–ù–û–í–´–ô** API –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Ä–µ–∞–∫—Ü–∏–π

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- `app/admin/components/tickets/AdminTicketsPanel.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `replyToMessage`
- `app/admin/components/tickets/components/MessageList.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ reply –∏ —É–ª—É—á—à–µ–Ω—ã –ª–∞–π–∫–∏
- `app/admin/components/tickets/components/ReplyForm.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–≤—å—é reply
- `app/admin/components/tickets/hooks/useTicketMessages.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `toggleReaction` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (—Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞)
- `app/admin/components/tickets/TicketMessages.tsx` - –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ MessageList + ReplyForm

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –õ–∞–π–∫–∏
1. –ê–¥–º–∏–Ω –Ω–∞–≤–æ–¥–∏—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –ø–æ—è–≤–ª—è—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
2. –ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É –ª–∞–π–∫–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è POST –∑–∞–ø—Ä–æ—Å –∫ API
3. API –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å—Ç—å –ª–∏ —É–∂–µ —Ä–µ–∞–∫—Ü–∏—è –æ—Ç —ç—Ç–æ–≥–æ –∞–¥–º–∏–Ω–∞
4. –ï—Å–ª–∏ –µ—Å—Ç—å - —É–¥–∞–ª—è–µ—Ç, –µ—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤–ª—è–µ—Ç
5. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

### –û—Ç–≤–µ—Ç—ã
1. –ê–¥–º–∏–Ω –Ω–∞–≤–æ–¥–∏—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–û—Ç–≤–µ—Ç–∏—Ç—å"
2. –ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É ‚Üí —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `replyToMessage`
3. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–≤—å—é –≤ —Ñ–æ—Ä–º–µ –æ—Ç–≤–µ—Ç–∞
4. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å ID —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Å–≤—è–∑–∏ (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–æ–≥–∏–∫–∏ –ë–î)

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –≤ API)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `fetchWithAuth` –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- üé® –ö–Ω–æ–ø–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ (–Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–∞—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- üé® –†–æ–∑–æ–≤—ã–µ –ª–∞–π–∫–∏ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
- üé® –°–µ—Ä—ã–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ª–∞–π–∫–∏
- üé® –¢—É–ª—Ç–∏–ø —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏ —Ç–µ—Ö, –∫—Ç–æ –ø–æ—Å—Ç–∞–≤–∏–ª –ª–∞–π–∫
- üé® –ö—Ä–∞—Å–∏–≤–æ–µ –ø—Ä–µ–≤—å—é reply —Å –∏–∫–æ–Ω–∫–æ–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–º–µ–Ω—ã

## –û—Ç–ª–∏—á–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞
| –§—É–Ω–∫—Ü–∏—è | –í–∏–¥–∂–µ—Ç | –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å |
|---------|--------|--------------|
| –õ–∞–π–∫–∏ | ‚úÖ –ï—Å—Ç—å | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ |
| Reply | ‚ùå –ù–µ—Ç | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ |
| –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å |
| API endpoint | `/api/support/...` | `/api/admin/tickets/...` |

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤—è–∑–∏ reply –≤ –ë–î (–¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `reply_to_message_id`)
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ç—Ä–µ–¥–µ
- [ ] –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ä–µ–∞–∫—Ü–∏–π (–Ω–µ —Ç–æ–ª—å–∫–æ ‚ù§Ô∏è, –Ω–æ –∏ üëç, üòä, –∏ —Ç.–¥.)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫–æ–≥–¥–∞ –∞–¥–º–∏–Ω –ª–∞–π–∫–Ω—É–ª –µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–µ

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
1. –ó–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
2. –û—Ç–∫—Ä—ã—Ç—å –ª—é–±–æ–π —Ç–∏–∫–µ—Ç
3. –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∏
4. –ù–∞–∂–∞—Ç—å –Ω–∞ –ª–∞–π–∫ ‚Üí –¥–æ–ª–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å—Å—è/—É–¥–∞–ª–∏—Ç—å—Å—è —Å–µ—Ä–¥–µ—á–∫–æ
5. –ù–∞–∂–∞—Ç—å –Ω–∞ "–û—Ç–≤–µ—Ç–∏—Ç—å" ‚Üí –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –ø—Ä–µ–≤—å—é
6. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –ø—Ä–µ–≤—å—é –¥–æ–ª–∂–Ω–æ –∏—Å—á–µ–∑–Ω—É—Ç—å

–î–∞—Ç–∞: 03.01.2026
