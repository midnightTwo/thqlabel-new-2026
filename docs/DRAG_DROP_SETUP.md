# üéØ –ë–´–°–¢–†–´–ô –ó–ê–ü–£–°–ö: Drag & Drop –¥–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤

## ‚ö° –¢–†–ò –ü–†–û–°–¢–´–• –®–ê–ì–ê

### üìå –®–ê–ì 1: SQL –≤ Supabase (2 –º–∏–Ω—É—Ç—ã)

```
1. –û—Ç–∫—Ä–æ–π: https://supabase.com ‚Üí –¢–≤–æ–π –ø—Ä–æ–µ–∫—Ç ‚Üí SQL Editor
2. –°–∫–æ–ø–∏—Ä—É–π —Ñ–∞–π–ª: sql/SIMPLE_DRAFT_ORDERING.sql
3. –í—Å—Ç–∞–≤—å –≤ SQL Editor –∏ –Ω–∞–∂–º–∏ RUN
4. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ‚úÖ Success
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π `sql/MINIMAL_DRAFT_ORDER.sql`

---

### üöÄ –®–ê–ì 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏ (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏ —Å–Ω–æ–≤–∞:
npm run dev
```

---

### ‚úÖ –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ó–∞–π–¥–∏ –≤ **"–ê—Ä—Ö–∏–≤ (–ß–µ—Ä–Ω–æ–≤–∏–∫–∏)"**
3. **–ü–µ—Ä–µ—Ç–∞—â–∏ —á–µ—Ä–Ω–æ–≤–∏–∫** –º—ã—à—å—é
4. **–û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É** (F5)
5. –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è? **–ì–û–¢–û–í–û!** üéâ

---

## üêõ –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: SQL –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è?

–û—Ç–∫—Ä–æ–π Supabase SQL Editor –∏ –≤—ã–ø–æ–ª–Ω–∏:
```sql
SELECT column_name FROM information_schema.columns 
WHERE table_name = 'releases_basic' AND column_name = 'draft_order';
```

**–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:** `draft_order`

–ï—Å–ª–∏ –ø—É—Å—Ç–æ ‚Üí SQL –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è! –ü–æ–ø—Ä–æ–±—É–π `sql/MINIMAL_DRAFT_ORDER.sql`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞?

```sql
SELECT routine_name FROM information_schema.routines 
WHERE routine_name = 'reorder_draft_release';
```

**–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:** `reorder_draft_release`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

–ù–∞–∂–º–∏ **F12** ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Console**

–ü–µ—Ä–µ—Ç–∞—â–∏ —á–µ—Ä–Ω–æ–≤–∏–∫. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞:
- `function reorder_draft_release does not exist` ‚Üí SQL –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è
- `permission denied` ‚Üí –Ω–µ –¥–∞–Ω—ã –ø—Ä–∞–≤–∞, –≤—ã–ø–æ–ª–Ω–∏:
  ```sql
  GRANT EXECUTE ON FUNCTION reorder_draft_release TO authenticated;
  ```

---

## üìÅ –§–∞–π–ª—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **`sql/SIMPLE_DRAFT_ORDERING.sql`** - –æ—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è ‚≠ê
2. **`sql/MINIMAL_DRAFT_ORDER.sql`** - —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
3. **`sql/README_INSTALL.md`** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

## üí™ –£–∂–µ —Å–¥–µ–ª–∞–Ω–æ –≤ –∫–æ–¥–µ

–§—Ä–æ–Ω—Ç–µ–Ω–¥ **–£–ñ–ï –ì–û–¢–û–í**! –ò–∑–º–µ–Ω–µ–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ `app/cabinet/components/UserReleases.tsx`
- ‚úÖ `app/cabinet/components/releases/ReleasesGrid.tsx`
- ‚úÖ `app/cabinet/components/releases/ReleaseCard.tsx`
- ‚úÖ `app/cabinet/components/releases/hooks.ts`

**–ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL!**

---

## üéÅ –ß—Ç–æ –ø–æ–ª—É—á–∏—à—å

- üñ±Ô∏è Drag & Drop —Ä–∞–±–æ—Ç–∞–µ—Ç
- üíæ –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ
- üö´ –ù–µ—Ç –ø—É—Å—Ç–æ—Ç—ã –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏
- üîÑ –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–°–º–æ—Ç—Ä–∏ –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: **`sql/README_INSTALL.md`**

–¢–∞–º 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ + —Ä–µ—à–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫!
